{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}TrainWise - Fitness Management Platform{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="{% static 'images/favicon.svg' %}">
    
    {% block page_class %}{% endblock %}
    
    <!-- Updated to load modular CSS files instead of one base.css -->
    <link rel="stylesheet" href="{% static 'css/variables.css' %}">
    <link rel="stylesheet" href="{% static 'css/global.css' %}">
    <link rel="stylesheet" href="{% static 'css/typography.css' %}">
    <link rel="stylesheet" href="{% static 'css/components/buttons.css' %}">
    <link rel="stylesheet" href="{% static 'css/components/forms.css' %}">
    <link rel="stylesheet" href="{% static 'css/components/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'css/components/footer.css' %}">
    <link rel="stylesheet" href="{% static 'css/components/modal.css' %}">
    <link rel="stylesheet" href="{% static 'css/components/alerts.css' %}">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.8/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.dataTables.min.css">
    <link rel="stylesheet" href="{% static 'css/components/datatables.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/dashboard.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/home.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/auth.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/book-private-classes.css' %}">
    <link rel="stylesheet" href="{% static 'css/pages/admin.css' %}">
    <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
    
    {% block extra_css %}{% endblock %}
</head>
<body {% block body_class %}{% endblock %}>
    <nav class="navbar {% block navbar_class %}{% endblock %}">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="/" class="logo">
                    <img src="{% static 'images/logo.svg' %}" alt="TrainWise Logo" class="logo-image">
                </a>
            </div>

            <ul class="nav-menu">
                <!-- Public -->
                <li><a href="{% url 'membership-plans' %}">Membership Plans</a></li>

                {% if user.is_authenticated %}
                    {% if user.is_staff %}
                        <li><a href="{% url 'admin-dashboard' %}">Admin Dashboard</a></li>
                    {% elif user.role == 'Trainer' %}
                        <li><a href="{% url 'trainer-dashboard' %}">Trainer Dashboard</a></li>
                    {% else %}
                        <li><a href="{% url 'user-dashboard' %}">Dashboard</a></li>
                        <li><a href="{% url 'book-private-class' %}">Book Private Classes</a></li>
                    {% endif %}

                    <li><a href="{% url 'profile-settings' %}">Profile</a></li>
                    <li><a href="{% url 'logout' %}">Logout</a></li>
                {% else %}
                    <li><a href="{% url 'login' %}">Login</a></li>
                    <li><a href="{% url 'register' %}" class="btn-primary">Sign Up</a></li>
                {% endif %}
            </ul>

            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    {% block content %}{% endblock %}

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3>TrainWise</h3>
                <p>Your complete fitness management solution</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="{% url 'book-private-class' %}">Classes</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Support</h4>
                <ul>
                    <li><a href="#">Help Center</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 TrainWise. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
    <script src="{% static 'js/datatables-init.js' %}"></script>
    <script src="{% static 'js/base.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
